<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Scorestack Documentation</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item "><a href="checks.html"><strong aria-hidden="true">1.</strong> Checks</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="checks/file.html"><strong aria-hidden="true">1.1.</strong> The Check File</a></li><li class="chapter-item "><a href="checks/metadata.html"><strong aria-hidden="true">1.2.</strong> Check Metadata</a></li><li class="chapter-item "><a href="checks/definition.html"><strong aria-hidden="true">1.3.</strong> Check Definition</a></li><li class="chapter-item "><a href="checks/attributes.html"><strong aria-hidden="true">1.4.</strong> Check Attributes</a></li><li class="chapter-item "><a href="checks/adding_checks.html"><strong aria-hidden="true">1.5.</strong> Adding Checks</a></li><li class="chapter-item "><a href="checks/reference.html"><strong aria-hidden="true">1.6.</strong> Check Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="checks/reference/dns.html"><strong aria-hidden="true">1.6.1.</strong> DNS</a></li><li class="chapter-item "><a href="checks/reference/ftp.html"><strong aria-hidden="true">1.6.2.</strong> FTP</a></li><li class="chapter-item "><a href="checks/reference/http.html"><strong aria-hidden="true">1.6.3.</strong> HTTP</a></li><li class="chapter-item "><a href="checks/reference/icmp.html"><strong aria-hidden="true">1.6.4.</strong> ICMP</a></li><li class="chapter-item "><a href="checks/reference/imap.html"><strong aria-hidden="true">1.6.5.</strong> IMAP</a></li><li class="chapter-item "><a href="checks/reference/ldap.html"><strong aria-hidden="true">1.6.6.</strong> LDAP</a></li><li class="chapter-item "><a href="checks/reference/mysql.html"><strong aria-hidden="true">1.6.7.</strong> MySQL</a></li><li class="chapter-item "><a href="checks/reference/noop.html"><strong aria-hidden="true">1.6.8.</strong> Noop</a></li><li class="chapter-item "><a href="checks/reference/smb.html"><strong aria-hidden="true">1.6.9.</strong> SMB</a></li><li class="chapter-item "><a href="checks/reference/smtp.html"><strong aria-hidden="true">1.6.10.</strong> SMTP</a></li><li class="chapter-item "><a href="checks/reference/ssh.html"><strong aria-hidden="true">1.6.11.</strong> SSH</a></li><li class="chapter-item "><a href="checks/reference/vnc.html"><strong aria-hidden="true">1.6.12.</strong> VNC</a></li><li class="chapter-item "><a href="checks/reference/winrm.html"><strong aria-hidden="true">1.6.13.</strong> WinRM</a></li><li class="chapter-item "><a href="checks/reference/xmpp.html"><strong aria-hidden="true">1.6.14.</strong> XMPP</a></li></ol></li></ol></li><li class="chapter-item "><a href="dynamicbeat.html"><strong aria-hidden="true">2.</strong> Dynamicbeat</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="dynamicbeat/configuration.html"><strong aria-hidden="true">2.1.</strong> Configuration</a></li><li class="chapter-item "><a href="dynamicbeat/deployment.html"><strong aria-hidden="true">2.2.</strong> Deployment</a></li><li class="chapter-item "><a href="dynamicbeat/overrides.html"><strong aria-hidden="true">2.3.</strong> Overrides</a></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat.html"><strong aria-hidden="true">2.4.</strong> Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_config.html"><strong aria-hidden="true">2.4.1.</strong> config</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_config_save.html"><strong aria-hidden="true">2.4.1.1.</strong> save</a></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_config_view.html"><strong aria-hidden="true">2.4.1.2.</strong> view</a></li></ol></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_run.html"><strong aria-hidden="true">2.4.2.</strong> run</a></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_setup.html"><strong aria-hidden="true">2.4.3.</strong> setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_setup_checks.html"><strong aria-hidden="true">2.4.3.1.</strong> checks</a></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_setup_elasticsearch.html"><strong aria-hidden="true">2.4.3.2.</strong> elasticsearch</a></li><li class="chapter-item "><a href="dynamicbeat/reference/dynamicbeat_setup_kibana.html"><strong aria-hidden="true">2.4.3.3.</strong> kibana</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="deployment.html"><strong aria-hidden="true">3.</strong> Deployment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="deployment/binaries.html"><strong aria-hidden="true">3.1.</strong> Obtaining Binaries</a></li><li class="chapter-item "><a href="deployment/cloning.html"><strong aria-hidden="true">3.2.</strong> Cloning the Repository</a></li><li class="chapter-item "><a href="deployment/small.html"><strong aria-hidden="true">3.3.</strong> Small Architecture</a></li><li class="chapter-item "><a href="deployment/medium.html"><strong aria-hidden="true">3.4.</strong> Medium Architecture</a></li><li class="chapter-item "><a href="deployment/setup.html"><strong aria-hidden="true">3.5.</strong> Setup</a></li></ol></li><li class="chapter-item "><a href="design.html"><strong aria-hidden="true">4.</strong> Design</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="design/architecture.html"><strong aria-hidden="true">4.1.</strong> Elastic Stack Architecture</a></li><li class="chapter-item "><a href="design/permissions.html"><strong aria-hidden="true">4.2.</strong> User Roles</a></li><li class="chapter-item "><a href="design/check.html"><strong aria-hidden="true">4.3.</strong> Life of a Check</a></li></ol></li><li class="chapter-item "><a href="building.html"><strong aria-hidden="true">5.</strong> Building Binaries</a></li><li class="chapter-item "><a href="appendix/faq.html"><strong aria-hidden="true">6.</strong> Appendix A - FAQ</a></li><li class="chapter-item "><div><strong aria-hidden="true">7.</strong> Appendix B - Glossary</div></li><li class="chapter-item "><div><strong aria-hidden="true">8.</strong> Appendix C - Developer Processes</div></li><li class="spacer"></li><li class="chapter-item affix "><a href="contributors.html">Contributors</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Scorestack Documentation</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="scorestack"><a class="header" href="#scorestack">Scorestack</a></h1>
<p><img src="https://github.com/scorestack/scorestack/workflows/Dynamicbeat/badge.svg" alt="Dynamicbeat" />
<img src="https://github.com/scorestack/scorestack/workflows/Kibana%20Plugin/badge.svg" alt="Kibana Plugin" /></p>
<p>A security competition scoring system built on the Elastic stack.</p>
<h2 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h2>
<p>To get up and running checking your services with Scorestack as fast as possible, follow the deployment guide for the <a href="./deployment/small.html#docker-deployment">small deployment with Docker</a>. After that, read up on <a href="./checks/adding_checks.html">adding checks</a>, and then take a look at the example checks in the <a href="https://github.com/scorestack/scorestack/tree/stable/examples"><code>examples</code> folder in the repository</a> - you should be able to find examples to get you started for several of your services! After you've added some checks, check out the <a href="./deployment/dynamicbeat.html">Dynamicbeat deployment guide</a> to get Dynamicbeat up and running.</p>
<h2 id="documentation-overview"><a class="header" href="#documentation-overview">Documentation Overview</a></h2>
<p>This documentation is split into sections based on overall topics and audiences. Each section starts with a brief introduction that explains in more detail its intended audience and what it covers.</p>
<h3 id="checks"><a class="header" href="#checks">Checks</a></h3>
<p>The <a href="./checks.html">check guide</a> and <a href="./reference.html">check reference</a> cover pretty much everything you need to know about writing and adding checks to Scorestack. These sections are written for anyone who is writing checks for Scorestack - not just people who are managing a Scorestack instance.</p>
<h3 id="user-guides"><a class="header" href="#user-guides">User Guides</a></h3>
<p>The <a href="./deployment.html">deployment guide</a> covers everything you need to know about deploying a Scorestack instance. It also explains the various automation and architectures that are maintained by the Scorestack developers.</p>
<h3 id="development-documentation"><a class="header" href="#development-documentation">Development Documentation</a></h3>
<p>The development documentation consists of the <a href="./design.html">design docs</a> and the <a href="./building.html">binary building guide</a>. These sections are primarily written for Scorestack contributors, but Scorestack administrators may also find them useful. The binary building guide explains how to build your own copies of the binaries provided in the Scorestack releases. The design docs attempt to comprehensively describe how Scorestack works.</p>
<h3 id="appendices"><a class="header" href="#appendices">Appendices</a></h3>
<p>The appendices are the catch-all for any other content that doesn't fall into any of the above categories. For now this includes an <a href="./appendix/faq.html">FAQ</a>, but other topics will be added over time.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuring-checks"><a class="header" href="#configuring-checks">Configuring Checks</a></h1>
<p>This section provides an overview of how to write Scorestack checks for your infrastructure.</p>
<p>In Scorestack, a &quot;check&quot; is a method of verifying that a specific service is functioning as expected. A check could make a request to a webserver and expect the response to contain specific content. Another check could establish an SSH session as a specific user, run some commands, and verify that the commands executed properly.</p>
<p>Each check is configured by - you guessed it - a check <strong>configuration</strong>. This configuration contains three major parts: the <strong>metadata</strong>, the <strong>definition</strong>, and the <strong>attributes</strong>. All check configurations <em>must</em> include the required metadata and a definition, and may optionally include some attributes as necessary.</p>
<p>A check's metadata uniquely identifies it and tells Scorestack how it should be handled. Check definitions set parameters that define the check's execution, and are specific to the type of check being configured. Check attributes are values that are substituted into the check at runtime, and can be viewed or modified by administrators and team members in Kibana.</p>
<p>The rest of this section explains the parts of a check in greater detail, as well as how to write a check configuration file, how to add your checks to Kibana, and how to use the team override system to write check configurations that can be generic across all of your teams.</p>
<p>As you read the documentation and write your check files, it may be useful to consult the example check definitions in the <a href="https://github.com/scorestack/scorestack/tree/stable/examples"><code>examples/</code> folder of the repository</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-check-file"><a class="header" href="#the-check-file">The Check File</a></h1>
<p>Each Scorestack check is configured via a single JSON file, called a &quot;check file&quot;. Each check file contains the check's metadata, the check definitions, and any attributes defined for the check.</p>
<p>The next few pages will go through an example check file section-by-section to explain the content of a check file and how to write your own. We will be using a modified version of the example IMAP check found in the repository's examples folder.</p>
<p>Here is the complete example check:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Email Clients&quot;,
  &quot;type&quot;: &quot;imap&quot;,
  &quot;score_weight&quot;: 1,
  &quot;definition&quot;: {
    &quot;Host&quot;: &quot;{{.Host}}&quot;,
    &quot;Port&quot;: &quot;143&quot;,
    &quot;Username&quot;: &quot;{{.Username}}@example.com&quot;,
    &quot;Password&quot;: &quot;{{.Password}}&quot;,
  },
  &quot;attributes&quot;: {
    &quot;admin&quot;: {
      &quot;Host&quot;: &quot;10.0.{{.TeamNum}}.50&quot;,
      &quot;Username&quot;: &quot;admin&quot;
    },
    &quot;user&quot;: {
      &quot;Password&quot;: &quot;changeme&quot;
    }
  }
}
</code></pre>
<p>This check file would be saved to <code>imap-clients.json</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="check-metadata"><a class="header" href="#check-metadata">Check Metadata</a></h1>
<p>All checks have a few metadata values. These are used by Scorestack and Dynamicbeat to determine how checks appear in Kibana and how Dynamicbeat will run them.</p>
<p>Here is the metadata section of our example IMAP check:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Email Clients&quot;,
  &quot;type&quot;: &quot;imap&quot;,
  &quot;score_weight&quot;: 1,
}
</code></pre>
<h2 id="id-omitted"><a class="header" href="#id-omitted">ID (Omitted)</a></h2>
<blockquote>
<p>This field will be automatically populated by Dynamicbeat based on the filename, and should be omitted from check files. Take a look at the <a href="checks/./adding_checks.html">page on adding checks</a> for more information.</p>
</blockquote>
<p>The ID field is used to uniquely identify the check. It may only contain the ASCII letters A-Z (uppercase or lowercase), the digits 0-9, underscores (<code>_</code>), and hyphens (<code>-</code>).</p>
<p>Additionally, the ID field must end in a hyphen followed by the <a href="checks/metadata.html#group">group field</a>. For example, a check that has a group of <code>team03</code> may have a valid ID of <code>wordpress-team03</code>, but the IDs <code>team03-wordpress</code>, <code>wordpress</code>, and <code>wordpressteam03</code> would be invalid.</p>
<h2 id="name"><a class="header" href="#name">Name</a></h2>
<p>The Name field is a human-readable string that is used when displaying the check in Kibana, such as on the Scoreboard and the Attributes application. It does not have to be unique; actually, it's recommended that all checks that are similar to each other have the same name.</p>
<p>Good names are generally short, identify what service is being checked, and clarify where the service is running. For example, if you have multiple SSH checks for several Linux systems, you may want to include the hostname of the system each check connects to in the check's name.</p>
<h2 id="type"><a class="header" href="#type">Type</a></h2>
<p>The Type field is a keyword string that defines the check type that will be used to execute the check.</p>
<h2 id="group"><a class="header" href="#group">Group</a></h2>
<blockquote>
<p>This field will be automatically populated by Dynamicbeat with the team name of each configured team, and should be omitted from check files.</p>
</blockquote>
<p>The Group field contains the name of the team associated with this check. It may only contain the ASCII letters A-Z (uppercase or lowercase), the digits 0-9, and underscores (<code>_</code>).</p>
<h2 id="score-weight"><a class="header" href="#score-weight">Score Weight</a></h2>
<p>The Score Weight field defines the number of points that will be awarded for a successful check. This is typically set to 1 for all checks, but it can be changed to make some checks worth more than others. For example, a functioning e-commerce webserver should probably be worth more points per check than SSH access to a user's workstation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="check-definition"><a class="header" href="#check-definition">Check Definition</a></h1>
<p>The check definition contains the parameters that define how the check will be executed. For most checks it will just be a simple key-value object, but it depends on which check type is being defined. Please see <a href="checks/./reference.html">the check reference</a> for more information on what parameters are expected within the check definition for each check type.</p>
<p>Here is the definition section of our example IMAP check:</p>
<pre><code class="language-json">{
  &quot;definition&quot;: {
    &quot;Host&quot;: &quot;{{.Host}}&quot;,
    &quot;Port&quot;: &quot;143&quot;,
    &quot;Username&quot;: &quot;{{.Username}}@example.com&quot;,
    &quot;Password&quot;: &quot;{{.Password}}&quot;,
  },
}
</code></pre>
<h2 id="optional-parameters"><a class="header" href="#optional-parameters">Optional Parameters</a></h2>
<p>Not all parameters must be included in your check definition. Some parameters may be optional, with a default value configured. If you omit the parameter from the definition, then the default value will be used for the parameter.</p>
<p>In our example IMAP check, the <code>Encrypted</code> parameter has been omitted. This is because the server we're checking doesn't use TLS, and the default for IMAP's <code>Encrypted</code> parameter is <code>false</code>.</p>
<h2 id="attribute-templating"><a class="header" href="#attribute-templating">Attribute Templating</a></h2>
<p>Three of our parameters - <code>Host</code>, <code>Username</code>, and <code>Password</code> - have attributes defined for them. These attributes are inserted into the parameter values using basic <a href="https://golang.org/pkg/text/template/">golang text templating</a>. Two pairs of curly braces containing a dot followed by a <a href="https://techterms.com/definition/pascalcase">PascalCase</a> name will be replaced with the value of the referenced attribute.</p>
<p>For example, if you define an attribute named <code>MyAttrib</code>, you can reference it in the check definition with <code>{{.MyAttrib}}</code>.</p>
<p>Attributes can be used as the entire value of a parameter, or they can be inserted into a string to make up part of the value.</p>
<h3 id="entire-value"><a class="header" href="#entire-value">Entire Value</a></h3>
<p>The <code>Host</code> parameter in our example check is an example of using the attribute (also named <code>Host</code>) as the entire value. Before templating, it looks like this:</p>
<pre><code class="language-json">&quot;Host&quot;: &quot;{{.Host}}&quot;
</code></pre>
<p>After templating, if the <code>Host</code> attribute is set to <code>localhost</code>, it will look like this:</p>
<pre><code class="language-json">&quot;Host&quot;: &quot;localhost&quot;
</code></pre>
<h3 id="part-of-a-string"><a class="header" href="#part-of-a-string">Part of a String</a></h3>
<p>The <code>Username</code> parameter in the example check is an example of using an attribute (again, also named <code>Username</code>) as part of the parameter's value. For our check, the username is an email address for a known domain. Before templating, it looks like this:</p>
<pre><code class="language-json">&quot;Username&quot;: &quot;{{.Username}}@example.com&quot;
</code></pre>
<p>After templating, if the <code>Username</code> attribute is set to <code>scorestack</code>, it will look like this:</p>
<pre><code class="language-json">&quot;Username&quot;: &quot;scorestack@example.com&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="check-attributes"><a class="header" href="#check-attributes">Check Attributes</a></h1>
<p>Attributes are named variables references within a check definition that allow string values to be inserted into a definition at runtime. This allows for dynamic updates to scoring through the Kibana UI during a competition.</p>
<p>Attributes work using <a href="https://golang.org/pkg/text/template/">golang templates</a> to insert attribute values into the check definitions before they are executed.</p>
<p>Here are the attributes of our example IMAP check, modified to remove the <a href="checks/attributes.html#team-overrides">team overrides</a>:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;admin&quot;: {
      &quot;Host&quot;: &quot;10.0.0.50&quot;,
      &quot;Username&quot;: &quot;admin&quot;
    },
    &quot;user&quot;: {
      &quot;Password&quot;: &quot;changeme&quot;
    }
  }
}
</code></pre>
<p>Each attribute is a key-value mapping. To use an attribute in a definition, add the attribute's key with a dot before it between two pairs of curly braces.</p>
<p>To reference our IMAP example, if we wanted to use the <code>Username</code> attribute somewhere within our definition, we would write <code>{{.Username}}</code>.</p>
<p>When adding checks to Scorestack, Dynamicbeat will substitute the double curly braces with the value of the referenced attribute.</p>
<p>Here's the definition of our example IMAP check, before attributes are applied:</p>
<pre><code class="language-json">{
  &quot;definition&quot;: {
    &quot;Host&quot;: &quot;{{.Host}}&quot;,
    &quot;Port&quot;: &quot;143&quot;,
    &quot;Username&quot;: &quot;{{.Username}}@example.com&quot;,
    &quot;Password&quot;: &quot;{{.Password}}&quot;,
  }
}
</code></pre>
<p>Here's what the definition will look like after attributes are applied, based on the attributes defined at the top of the page:</p>
<pre><code class="language-json">{
  &quot;definition&quot;: {
    &quot;Host&quot;: &quot;10.0.0.50&quot;,
    &quot;Port&quot;: &quot;143&quot;,
    &quot;Username&quot;: &quot;admin@example.com&quot;,
    &quot;Password&quot;: &quot;changeme&quot;,
  }
}
</code></pre>
<blockquote>
<p>If you reference an attribute that hasn't been defined, Dynamicbeat will replace the curly braces with an empty string.</p>
<p>In our IMAP example, <code>&quot;{{.DoesNotExist}} - test&quot;</code> would become <code>&quot; - test&quot;</code>, since there's no attribute defined named <code>DoesNotExist</code>.</p>
</blockquote>
<h2 id="attribute-types"><a class="header" href="#attribute-types">Attribute Types</a></h2>
<p>There are two kinds of attributes that can be defined, each serving a different purpose.</p>
<h3 id="user-attributes"><a class="header" href="#user-attributes">User Attributes</a></h3>
<p>User attributes are the more common kind of attributes. These attributes can only be viewed or changed by members of the same group as the check, or by users with the <code>attribute-admin</code> role. For example, the attributes for a check in the <code>blue</code> group is restricted to users that are also in the <code>blue</code> group. These attributes are useful for values that may be changed by blueteamers, such as service account credentials.</p>
<p>Another use case for user attributes besides changing credentials is service migration. If you want to let teams migrate their services at will, then you could achieve this by configuring the host and/or port parameters in the definition via user attributes. Then, teams would be able to change where their checks are run whenever they want.</p>
<h3 id="administrator-attributes"><a class="header" href="#administrator-attributes">Administrator Attributes</a></h3>
<p>Administrator attributes (or admin attributes for short) are less common than user attributes, but can still be useful. Users who are members of the same group as the check may view these attributes, but cannot modify them. Users with the <code>attribute-admin</code> role may both view and modify these attributes.</p>
<p>The primary purpose of admin attributes is to give teams some information about their checks that they can see, but cannot modify. For example, if you want to let teams modify the password for an SSH check, but not the username, you should probably configure the username via an admin attribute. That way teams will know which user the password is associated with, but they won't be able to change the user that the check is configured to use.</p>
<p>It could also be useful to configure the IP address or hostname via an admin attribute. Typically it's preferred to use <a href="checks/./metadata.html#name">the name field</a> to identify the system a check is running against, but sometimes it's good to make it explicit.</p>
<p>Another use of admin attributes is, like user attributes, to make it easy to change check configurations on-the-fly during a competition. Let's say you want to let teams migrate their services, but you want them to submit an official request to be approved first. You could configure the host and/or port parameters via an admin attribute. Then, once an official migration request has been submitted and approved, a competition organizer can change the attributes in Kibana.</p>
<h2 id="team-overrides"><a class="header" href="#team-overrides">Team Overrides</a></h2>
<p>Attributes can be customized on a per-team basis via the use of team override variables. These are inserted into attribute values in the same way that <a href="checks/attributes.html#attribute-templating">attributes are inserted into definition parameters</a>.</p>
<p>For more possible uses of team overrides, please see <a href="checks/../dynamicbeat/overrides.html">the team override guide</a>.</p>
<h3 id="teamnum"><a class="header" href="#teamnum"><code>TeamNum</code></a></h3>
<p>The most important team override is <code>TeamNum</code>, which is automatically created for you by Dynamicbeat (unless manually overridden). <code>TeamNum</code> is an unsigned integer parsed from the team name. If a team name ends in a number, that number will be parsed out and made available via the <code>TeamNum</code> override. For example, <code>team10</code> would have a <code>TeamNum</code> of 10.</p>
<p>Additionally, any leading zeros will be removed from the <code>TeamNum</code>, so <code>team05</code> would have a <code>TeamNum</code> of 5.</p>
<p>This is particularly useful if your teams are named in a sequence and their networks are similarly sequenced. For example, if your competition has <code>team01</code> on <code>10.0.1.0/24</code>, <code>team02</code> on <code>10.0.2.0/24</code>, and <code>team03</code> on <code>10.0.3.0/24</code>, then you could use the <code>TeamNum</code> override to configure the IP addresses for checks in a team-generic way.</p>
<p>Our IMAP check provides an example of this with the <code>Host</code> admin attribute:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;admin&quot;: {
      &quot;Host&quot;: &quot;10.0.{{.TeamNum}}.50&quot;,
    },
  },
}
</code></pre>
<p>If this check was added for a team named <code>team07</code>, then the <code>Host</code> attribute would have a value of <code>10.0.9.50</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-new-checks"><a class="header" href="#adding-new-checks">Adding New Checks</a></h1>
<p>Once you've written all your checks, you can use Dynamicbeat to add them all to Scorestack. You can download a precompiled version of Dynamicbeat for your operating system from the <a href="https://github.com/scorestack/scorestack/releases/latest">latest release on GitHub</a>.</p>
<p>Save the zipfile and extract Dynamicbeat to the system that you'll be writing check configurations on. Next, you'll need to <a href="checks/../dynamicbeat/configuration.html">configure Dynamicbeat</a> so it knows where to add checks. Once you have Dynamicbeat downloaded and configured, you're ready to add your checks using Dynamicbeat's <a href="checks/../dynamicbeat/reference/dynamicbeat_setup_checks.html"><code>setup checks</code></a> command.</p>
<blockquote>
<p>Dynamicbeat's <code>run</code> command is only supported on Linux right now, but the <code>setup</code> command and its subcommands should work fine on other operating systems.</p>
</blockquote>
<p>To keep things simple, create a folder and place all your check files in it. Each file should be named <code>check-id.json</code>, where <code>check-id</code> is a unique identifier for each check that satisfies the requirements of the <a href="checks/./metadata.html#id-omitted"><code>id</code> field</a> in the check's metadata. Take a look at the directory structure of the repository's examples folder for an example:</p>
<pre><code>examples
├── dns.json
├── ftp.json
├── http-gophish.json
├── http-greenbone-security.json
├── http-kibana-auth.json
├── http-kibana.json
├── http-kolide.json
├── http-roundcube.json
├── icmp.json
├── imap.json
├── ldap-ad.json
├── mssql.json
├── mysql.json
├── noop.json
├── postgresql.json
├── smb.json
├── smtp.json
├── ssh.json
├── vnc.json
├── winrm.json
└── xmpp.json
</code></pre>
<p>If you wish, you can add other files to this folder (e.g. <code>.gitignore</code>, <code>README.md</code>, <code>topology.png</code>, etc.) as long as they don't end in <code>.json</code>. Dynamicbeat expects that any file ending in <code>.json</code> is a check file. All other files will be ignored.</p>
<p>Dynamicbeat's <code>setup checks</code> command is idempotent; if you have to make changes to any of your checks, all you have to do is rerun the command.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="check-reference"><a class="header" href="#check-reference">Check Reference</a></h1>
<p>This section of the documentation contains a reference to each of the check types available in Dynamicbeat. Each page within this section covers the available parameters for a specific check type. Example check definitions for all check types can be found under <a href="https://github.com/scorestack/scorestack/tree/stable/examples">the <code>examples</code> folder in the Scorestack repository</a>.</p>
<p>Please note that the <em>Type</em> listed in the tables on these pages refers to the type that must be used in the JSON document. For example, if the <em>type</em> is <em>string</em>, then value for that parameter in the JSON document must be a <code>&quot;string&quot;</code>.</p>
<h2 id="required-vs-optional"><a class="header" href="#required-vs-optional">Required vs. Optional</a></h2>
<p>Some parameters are required for a check type. These <em>must</em> be defined, otherwise the check definition is invalid and will not run.</p>
<p>Other parameters are not required, and have default values. If the default value for an optional parameter is acceptable for your check, you can omit the parameter from your check definition for the sake of brevity.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dns"><a class="header" href="#dns">DNS</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Server</td><td>String</td><td>Y</td><td>IP of the DNS server to query</td></tr>
<tr><td>Fqdn</td><td>String</td><td>Y</td><td>The FQDN of the host you are looking up</td></tr>
<tr><td>ExpectedIP</td><td>String</td><td>Y</td><td>The expected IP of the host you are looking up</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;53&quot;</td><td>The port of the DNS server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ftp"><a class="header" href="#ftp">FTP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or hostname of the host to run the FTP check against</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>The user to login with over FTP</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>The password for the user that you wish to login with</td></tr>
<tr><td>File</td><td>String</td><td>Y</td><td>The path to the file to access during the FTP check</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>The regex to use to match against the file contents</td></tr>
<tr><td>HashContentMatch</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether to use hash-based matching to check the file contents</td></tr>
<tr><td>Hash</td><td>String</td><td>N</td><td>The sha3-256 hash to use when checking the file contents with hash-based matching</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;21&quot;</td><td>The port to attempt an FTP connection on</td></tr>
<tr><td>Simple</td><td>String</td><td>N :: &quot;false&quot;</td><td>Very simple FTP check for older servers</td></tr>
</tbody></table>
<p>The <code>simple</code> parameter should usually be left as the default unless you are running a check against an FTP server that is very old and supports a limited set of FTP commands. When <code>simple</code> is set to <code>&quot;true&quot;</code>, the check will only change to the directory specified in the <code>file</code> parameter and then query for the current working directory. If both of these operations succeed, then the check will pass. All other parameters will be ignored.</p>
<p>Note that if you are using the simple version of the FTP check, the <code>file</code> parameter should point to a directory, <em>not</em> a file on the system.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="http"><a class="header" href="#http">HTTP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Verify</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether HTTPS certs should be validated</td></tr>
<tr><td>ReportMatchedContent</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether the matched content should be returned in the CheckResult</td></tr>
<tr><td>Requests</td><td>[]list of requests</td><td>Y</td><td>A list of requests to make</td></tr>
</tbody></table>
<p>Below are the parameters found within a single <strong>request</strong>.</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the HTTP server</td></tr>
<tr><td>Path</td><td>String</td><td>Y</td><td>Path to request - see RFC3986, section 3.3</td></tr>
<tr><td>HTTPS</td><td>Bool</td><td>N :: false</td><td>Whether or not HTTPS should be used</td></tr>
<tr><td>Port</td><td>UInt16</td><td>N :: 80</td><td>TCP port number the HTTP server is listening on</td></tr>
<tr><td>Method</td><td>String</td><td>N :: &quot;GET&quot;</td><td>HTTP method to use</td></tr>
<tr><td>Headers</td><td>map[string][string]</td><td>N</td><td>Name-Value pairs of header fields to add/override</td></tr>
<tr><td>Body</td><td>String</td><td>N</td><td>The request body</td></tr>
<tr><td>MatchCode</td><td>Bool</td><td>N :: false</td><td>Whether the response code must match a defined value for the check to pass</td></tr>
<tr><td>Code</td><td>Int</td><td>N :: 200</td><td>The response status code to match</td></tr>
<tr><td>MatchContent</td><td>Bool</td><td>N :: false</td><td>Whether the response body must match a defined regex for the check to pass</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>Regex for the response body to match</td></tr>
<tr><td>StoreValue</td><td>Bool</td><td>N :: false</td><td>Whether the matched content should be saved for use in a later request</td></tr>
</tbody></table>
<p>An HTTP definition consists of as many <em>Requests</em> as you would like to send for that check. See the <em>examples</em> folder for clarification.</p>
<h2 id="storevalue-parameter"><a class="header" href="#storevalue-parameter"><code>StoreValue</code> Parameter</a></h2>
<p>When the <code>StoreValue</code> attribute is set to <code>true</code> and regex-based content matching is enabled, then the content in the response that matches the <code>ContentRegex</code> will be stored in the <code>SavedValue</code> variable. You can then use this value in later requests. This can be useful for multi-stage checks that require authentication, but do not use cookies to store the session ID.</p>
<p>One example of using the <code>StoreValue</code> attribute is the <code>http-kolide</code> example check. Before you can use the Kolide API, you must log in. The API route to log in returns a Bearer token within the response body. This Bearer token must be presented in the <code>Bearer:</code> header in order to authenticate to the API routes.</p>
<p>The saved value is made available through the same method as attributes - just insert <code>{{.SavedValue}}</code> into your check wherever you would like it to be used.</p>
<p>Please note that only one value can be stored using <code>StoreValue</code>. If you already have a value saved, and attempt to save another one, then the original value will be overwritten.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="icmp"><a class="header" href="#icmp">ICMP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the host to run the ICMP check against</td></tr>
<tr><td>Count</td><td>Int</td><td>N :: 1</td><td>The number of ICMP requests to send per check</td></tr>
<tr><td>AllowPacketLoss</td><td>String</td><td>N :: &quot;false&quot;</td><td>Pass check based on received pings matching Count; if false, will use percent packet loss</td></tr>
<tr><td>Percent</td><td>Int</td><td>N :: 100</td><td>Percent of packets needed to come back to pass the check</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imap"><a class="header" href="#imap">IMAP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN for the IMAP server</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>Username for the IMAP server</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the user</td></tr>
<tr><td>Encrypted</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether or not to use TLS (IMAPS)</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;143&quot;</td><td>Port for the IMAP server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ldap"><a class="header" href="#ldap">LDAP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>User</td><td>String</td><td>Y</td><td>The user written in user@domain syntax</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>The password for the user</td></tr>
<tr><td>Fqdn</td><td>String</td><td>Y</td><td>The FQDN of the LDAP server</td></tr>
<tr><td>Ldaps</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether or not to use LDAP+TLS</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;389&quot;</td><td>Port for LDAP server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mysql"><a class="header" href="#mysql">MySQL</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN for the MySQL server</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>Username for the database</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the user</td></tr>
<tr><td>Database</td><td>String</td><td>Y</td><td>Name of the database to access</td></tr>
<tr><td>Table</td><td>String</td><td>Y</td><td>Name of the table to access</td></tr>
<tr><td>Column</td><td>String</td><td>Y</td><td>Name of the column to access</td></tr>
<tr><td>MatchContent</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether to perform a regex content match on the results of the query</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>Regex to match on</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;3306&quot;</td><td>Port for the server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="noop"><a class="header" href="#noop">Noop</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Dynamic</td><td>String</td><td>Y</td><td>Contains attributes that can be modified by admins or users</td></tr>
<tr><td>Static</td><td>String</td><td>Y</td><td>Contains attributes</td></tr>
</tbody></table>
<p>The Noop check does basically nothing. Dynamicbeat will load the check definition and attributes, template them into the check, pass the check, and then return the templated check definition in the check result's details field.</p>
<p>Noop can be useful to verify that your Dynamicbeat and Scorestack configurations are correct. It can also be used to play around with the templating and attributes systems.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smb"><a class="header" href="#smb">SMB</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN for the SMB server</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>Username for SMB share</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the user</td></tr>
<tr><td>Share</td><td>String</td><td>Y</td><td>Name of the SMB share</td></tr>
<tr><td>Domain</td><td>String</td><td>Y</td><td>The domain found in front of a login (SMB\Administrator : SMB would be domain)</td></tr>
<tr><td>File</td><td>String</td><td>Y</td><td>The file in SMB share</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>Regex to match on</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;445&quot;</td><td>Port of the server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smtp"><a class="header" href="#smtp">SMTP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the SMTP server</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>Username for the SMTP server</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the SMTP server</td></tr>
<tr><td>Sender</td><td>String</td><td>Y</td><td>Who is sending the email</td></tr>
<tr><td>Reciever</td><td>String</td><td>Y</td><td>Who is receiving the email</td></tr>
<tr><td>Body</td><td>String</td><td>N :: &quot;Hello from Scorestack&quot;</td><td>Body of the email</td></tr>
<tr><td>Encrypted</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether or not to use TLS</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;25&quot;</td><td>Port of the SMTP server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh"><a class="header" href="#ssh">SSH</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the host to run the SSH check against</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>The user to login with over SSH</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>The password for the user that you wish to login with</td></tr>
<tr><td>Cmd</td><td>String</td><td>Y</td><td>The command to execute once SSH connection established</td></tr>
<tr><td>MatchContent</td><td>String</td><td>N :: &quot;false&quot;</td><td>Whether or not to match content like checking files</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>Tegex to match if reading a file</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;22&quot;</td><td>The port to attempt an SSH connection on</td></tr>
</tbody></table>
<h2 id="notes-on-freebsd"><a class="header" href="#notes-on-freebsd">Notes on FreeBSD</a></h2>
<p>SSH checks will fail on standard FreeBSD installations. This is because by default, FreeBSD does not enable <code>password</code> authentication for SSH. In order to fix this issue, you must ensure that <code>PasswordAuthentication yes</code> is set in your <code>/etc/ssh/sshd_config</code> file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vnc"><a class="header" href="#vnc">VNC</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the host to run the SSH check against</td></tr>
<tr><td>Port</td><td>String</td><td>Y</td><td>The port for the VNC server</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>The password for the user that you wish to login with</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="winrm"><a class="header" href="#winrm">WinRM</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the WinRM machine</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>User to login as. Must be a local user</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the user</td></tr>
<tr><td>Cmd</td><td>String</td><td>Y</td><td>Command that will be executed</td></tr>
<tr><td>Encrypted</td><td>String</td><td>N :: &quot;true&quot;</td><td>Use TLS for connection</td></tr>
<tr><td>MatchContent</td><td>String</td><td>N :: &quot;false&quot;</td><td>Turn this on to match content from the output of the cmd</td></tr>
<tr><td>ContentRegex</td><td>String</td><td>N :: &quot;.*&quot;</td><td>Regexp for matching output of a command</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;5986&quot;</td><td>Port for WinRM</td></tr>
</tbody></table>
<blockquote>
<p>This check will <em>only</em> work with local users using basic authentication, because <a href="https://github.com/masterzen/winrm#preparing-the-remote-windows-machine-for-basic-authentication">the WinRM library used only supports that authentication method</a>.</p>
</blockquote>
<h2 id="picking-a-command"><a class="header" href="#picking-a-command">Picking a Command</a></h2>
<p>While the <code>Cmd</code> parameter can generally be used for whatever you'd like, it is recommended to avoid the <code>netstat</code> command. Some Windows systems can have spurious check failures if check runs the <code>netstat</code> command. Other systems may take 2-3 seconds to print each line of <code>netstat</code> output, impacting usability for blueteamers and possibly causing checks to fail due to timeout issues. </p>
<p>Issues with the <code>netstat</code> command <em>may</em> be infrastructure-specific. If you'd really like to check a user's ability to run the <code>netstat</code> command, just make sure to test the check thoroughly before the competition <em>on your competition infrastructure</em>. One good way of doing this would be running a Dynamicbeat instance against all your checks with a very low period, such as 5-10 seconds. If you have no issues with using <code>netstat</code> as your checked command, you should be fine!</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<p>Sometimes this check will fail even if you can connect to the system over WinRM using other tools, like Ansible or PowerShell. This is because the library used for this check only supports certain WinRM configurations, and configurations that are valid for other tools may not work with this one.</p>
<p>When troubleshooting this check, it may be useful to use <a href="https://github.com/masterzen/winrm-cli">winrm-cli</a>, a WinRM command-line client written in golang. The tool uses the same library as this check, and is written by the same author. If you are able to make a connection using winrm-cli, then this check should be passing. If you're still having issues, open an issue! In that case, there may be an issue with the Dynamicbeat code.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xmpp"><a class="header" href="#xmpp">XMPP</a></h1>
<table><thead><tr><th>Name</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody>
<tr><td>Host</td><td>String</td><td>Y</td><td>IP or FQDN of the XMPP Server</td></tr>
<tr><td>Username</td><td>String</td><td>Y</td><td>Username to use for the XMPP server</td></tr>
<tr><td>Password</td><td>String</td><td>Y</td><td>Password for the user</td></tr>
<tr><td>Encrypted</td><td>String</td><td>N :: &quot;true&quot;</td><td>Whether or not to use TLS</td></tr>
<tr><td>Port</td><td>String</td><td>N :: &quot;5222&quot;</td><td>The port for the XMPP server</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dynamicbeat"><a class="header" href="#dynamicbeat">Dynamicbeat</a></h1>
<p>This section of the documentation covers the usage, configuration, and deployment of Dynamicbeat.</p>
<p>The primary function of Dynamicbeat is to run the checks that you've defined in your Scorestack instance, but it also serves as an administration utility for Scorestack instances.</p>
<p>The <a href="./dynamicbeat/configuration.html">Configuration page</a> has more information about how to configure Dynamicbeat, and contains a heavily-commented YAML configuration reference.</p>
<p>The <a href="./dynamicbeat/deployment.html">Deployment page</a> provides an overview of the options to deploy a Dynamicbeat instance for running your checks.</p>
<p>The <a href="./dynamicbeat/overrides.html">Overrides page</a> explains the purpose of the <a href="./checks/file_format.html#team-overrides">team overrides system</a>. A few examples are provided to help you write check definitions that work across <em>all</em> your teams.</p>
<p>Finally, the <a href="./dynamicbeat/reference/dynamicbeat.html">Reference section</a> contains automatically-generated documentation covering the command-line interface of Dynamicbeat. This information is also available via the <code>-h</code> and <code>--help</code> flags when running Dynamicbeat.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>Dynamicbeat pulls configuration values from three sources: environment variables, command-line arguments, and configuration files. These sources are combined in the following decending priority order to create a single configuration:</p>
<ol>
<li>Command-line arguments</li>
<li>Environment variables</li>
<li>Configuration file</li>
<li>Default values</li>
</ol>
<p>A setting configured via a command-line argument will override all other settings.</p>
<h2 id="creating-a-config-file"><a class="header" href="#creating-a-config-file">Creating a Config File</a></h2>
<p>While Dynamicbeat doesn't require a configuration file, it is usually desirable to store the Dynamicbeat configuration in a configuration file. To save the current Dynamicbeat configuration to a file named <code>dynamicbeat.yml</code>, run:</p>
<pre><code class="language-shell">dynamicbeat config save dynamicbeat.yml
</code></pre>
<p>This will parse any command-line arguments or environment variables you've set to configure Dynamicbeat (if any), and then render a YAML file containing the configuration. Feel free to edit the configuration file as necessary.</p>
<p>Alternatively, you can use the <a href="dynamicbeat/configuration.html#configuration-reference">reference configuration file</a> as a starting point.</p>
<h2 id="viewing-your-config"><a class="header" href="#viewing-your-config">Viewing Your Config</a></h2>
<p>If you would like to view your current configuration (and don't want to save it to a file), you can use the <code>confg view</code> subcommand:</p>
<pre><code class="language-shell">dynamicbeat config view
</code></pre>
<p>Your current configuration will be printed in YAML format.</p>
<h2 id="specifying-a-config-file"><a class="header" href="#specifying-a-config-file">Specifying a Config File</a></h2>
<p>Dynamicbeat will automatically use a configuration file in the current directory named <code>dynamicbeat.yml</code> (or files with other supported extensions - see <a href="dynamicbeat/configuration.html#other-config-file-formats">file formats</a>). You can also tell Dynamicbeat which config file to use with the <code>--config</code> flag:</p>
<pre><code class="language-shell">dynamicbeat run --config /path/to/dynamicbeat/config
</code></pre>
<h2 id="other-config-file-formats"><a class="header" href="#other-config-file-formats">Other Config File Formats</a></h2>
<p>If you don't like YAML, Dynamicbeat supports other config formats as well! When running <code>dynamicbeat config save</code>, try passing a filepath with other extensions like <code>.json</code>, <code>.toml</code>, or <code>.env</code>. If you use an extension that Dynamicbeat doesn't support, it will print a message listing the currently supported config file types.</p>
<p>For example, to save the config in TOML format, run the following command:</p>
<pre><code class="language-shell">dynamicbeat config save dynamicbeat.toml
</code></pre>
<h2 id="configuration-reference"><a class="header" href="#configuration-reference">Configuration Reference</a></h2>
<p>This reference can also be downloaded <a href="dynamicbeat/dynamicbeat.yml">here</a> as a YAML file.</p>
<pre><code class="language-yaml">### Dynamicbeat Example Configuration #########################################
# This configuration file explains all available configuration settings. Each
# setting is listed here with its default. If you would like to change one of
# the defaults, uncomment the setting and change the value.
#
# Please note that the defaults listed here should work fine for a default
# Scorestack small/docker instance deployed on the same host as Dynamicbeat.

# The amount of time to wait after starting a round of checks before starting
# another round. Must be a string parsable by Golang's time.ParseDuration. See
# here for more information: https://golang.org/pkg/time/#ParseDuration
#round_time: 30s

# The address to the Elasticsearch endpoint of your Scorestack instance. Check
# definitions will be loaded from here, and check results will be put here.
#elasticsearch: https://localhost:9200

# The credentials to use for authentication to Elasticsearch when running
# checks with Dynamicbeat. This user must have the `dynamicbeat` role.
#username: dynamicbeat
#password: changeme

# Whether to check the validity of TLS certificates used by your Scorestack
# instance.
#verify_certs: false

### Logging ###################################################################

log:
  # Whether to include timestamps and code locations in each log line.
  #verbose: false

  # The lowest log level to print. -1 is DEBUG, 0 is INFO, 1 is WARN, etc.
  #level: 0

  # Whether to colorize the log output. By default, logs will be printed with
  # color.
  #no_color: false

### Setup #####################################################################
# The remaining settings are only used by Dynamicbeat's `setup` command and the
# subcommands of `setup`. If this Dynamicbeat deployment will only use the
# `run` command, then you can leave these settings as is.

setup:
  # The address to the Kibana endpoint of your Scorestack instance that will be
  # configured by Dynamicbeat.
  #kibana: https://localhost:9200

  # The credentials to use for authentication to Elasticsearch and Kibana when
  # running cluster setup. This user must have the `superuser` role.
  #username: elastic
  #password: changeme

# The list of all the teams that will be used during the competition.
#
# At a minimum, each team must have a name defined:
#
#   - name: team01
#
# Teams can also define overrides as key-value pairs under the `overrides`
# object:
#
#   - name: team01
#     overrides:
#       DefaultPassword: team01-Changeme
#
# If you do not wish to configure any overrides for a team, you may omit the
# `overrides` object (see the first example) or you can explicitly set it to
# an empty object:
#
#   - name: team01
#     overrides: {}
teams:
  #- name: team01
  #- name: team02
  #- name: team03
  #- name: team04
  #- name: team05
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployment"><a class="header" href="#deployment">Deployment</a></h1>
<p>Once Scorestack has been deployed and you've uploaded some checks, Dynamicbeat needs to be deployed to a host for checks to run. Currently, the only supported way of deploying Dynamicbeat is by running it as a systemd service on a Linux system.</p>
<h2 id="system-requirements"><a class="header" href="#system-requirements">System Requirements</a></h2>
<p>Currently, Dynamicbeat is only supported on Linux systems. Please note that Dynamicbeat can run checks <em>against</em> non-Linux systems (like Windows or Mac), but Dynamicbeat itself must run on Linux.</p>
<p>The system that Dynamicbeat runs on must be able to access the Elasticsearch HTTP API endpoints. Additionally, the system should be able to access the services that Dynamicbeat will be running checks against. Varying the placement of Dynamicbeat on the network can help mask the check traffic slightly. For example, running Dynamicbeat on the same network that red team traffic originates from is a common practice.</p>
<p>Dynamicbeat can typically run fine with minimal system resources. In the past, Dynamicbeat has worked fine with only 2 CPU cores and 2 GB of RAM, but you should always perform some testing to determine what will work best for your environment.</p>
<h3 id="icmp-permissions"><a class="header" href="#icmp-permissions">ICMP Permissions</a></h3>
<p>The ICMP library that Dynamicbeat's ICMP protocol uses requires specific sysctl parameters to be set in order to work. The following command can be used to immediately set the sysctl parameter, but the change will not persist on a reboot. You should set the parameter in <code>/etc/sysctl.d</code> (or the equivalent on your distribution) in order for changes to persist on reboot.</p>
<pre><code class="language-shell">sudo sysctl -w net.ipv4.ping_group_range=&quot;0   2147483647&quot;
</code></pre>
<p>For more information on the ICMP permissions required, see <a href="https://github.com/go-ping/ping#note-on-linux-support">the library's documentation</a>.</p>
<h3 id="dynamicbeat-disk-impact"><a class="header" href="#dynamicbeat-disk-impact">Dynamicbeat Disk Impact</a></h3>
<p>When the systems that Dynamicbeat runs checks against are using shared network storage, the available IOPS is very important, especially for larger competitions. This is because each check that Dynamicbeat runs can trigger multiple disk I/O operations on the system being checked. Additionally, checks are executed nearly simultaneously, so a round of checks can have a serious impact on disk performance.</p>
<p>If possible, try stress testing your infrastructure before the start of the competition by running multiple instances of Dynamicbeat simultaneously. While running this stress test, try interacting with the competition systems. If your competition has any &quot;Desktop Experience&quot; (GUI) Windows systems, try interacting with them - opening multiple programs, performing searches in the Start menu, etc. - since the experience on Windows systems can be particularly sensitive to a lack of sufficient IOPS.</p>
<p>If you do experience IOPS issues, one possible solution is to increase the time between rounds. By default rounds run every 30 seconds, but increasing this to 2 or 3 minutes (or even more) can help.</p>
<h2 id="service-setup"><a class="header" href="#service-setup">Service Setup</a></h2>
<p>The recommended way of running Dynamicbeat is via a systemd service. To configure the service, you can use the following systemd unit file:</p>
<pre><code>[Unit]
Description=Dynamicbeat
After=network.target

[Service]
Type=simple
WorkingDirectory=/opt/dynamicbeat
ExecStart=/opt/dynamicbeat/dynamicbeat run

[Install]
WantedBy=multi-user.target
</code></pre>
<blockquote>
<p>This file is also available for download <a href="dynamicbeat/./dynamicbeat.service">here</a>.</p>
</blockquote>
<p>If using the above service file, you should save it to <code>/etc/systemd/system/dynamicbeat.service</code>. You can then start Dynamicbeat by running the following commands:</p>
<pre><code class="language-shell">sudo systemctl daemon-reload
sudo systemctl start dynamicbeat.service
sudo systemctl enable dynamicbeat.service
</code></pre>
<p>Note that this service file assumes that the Dynamicbeat binary is placed at <code>/opt/dynamicbeat/dynamicbeat</code>, and that the configuration file is  at <code>/opt/dynamicbeat/dynamicbeat.yml</code>. If your configuration file is placed somewhere else or named differently, add the <code>--config /path/to/dynamicbeat/config</code> argument to the <code>ExecStart</code> line in your service file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="team-overrides-1"><a class="header" href="#team-overrides-1">Team Overrides</a></h1>
<p>A lot of times, checks can be easily configured for all teams through the use of attributes and the automatic <a href="dynamicbeat/../checks/attributes.html"><code>TeamNum</code> override</a>. However, sometimes a check file needs to be changed quite a bit from one team to another. This is where team overrides come in.</p>
<p>Team overrides are intended to make it possible to write a single check file that will work for the same service across all teams. With overrides, you shouldn't have to write any team-specific check files.</p>
<blockquote>
<p>Overrides can only be used to modify attributes. Overrides <strong>cannot be applied directly to definitions</strong>. Overrides must be applied to an attribute that is then used in your definition.</p>
</blockquote>
<h2 id="defining-overrides"><a class="header" href="#defining-overrides">Defining Overrides</a></h2>
<p>Team overrides are defined within the <code>teams</code> section of the <a href="dynamicbeat/./configuration.html#configuration-reference">Dynamicbeat configuration file</a>, within the <code>overrides</code> object for each team.</p>
<p>The <code>overrides</code> object can contain an arbitrary amount of key-value mappings. For each key-value pair in <code>overrides</code>, the key is used as the override name, and the value is used as the override's value.</p>
<p>Here's an example configuration snippet that configures two teams with an override named <code>MyOverride</code>:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      MyOverride: &quot;team one's override value&quot;
  - name: team02
    overrides:
      MyOverride: &quot;team two's override value&quot;
</code></pre>
<h3 id="teamnum-1"><a class="header" href="#teamnum-1"><code>TeamNum</code></a></h3>
<p>If an override named <code>TeamNum</code> has not been configured, Dynamicbeat will automatically add one at runtime by parsing a number from the end of the team name and removing all leading zeros.</p>
<p>If the team's name</p>
<p>To verify that Dynamicbeat will parse the <code>TeamNum</code> from your team names properly, you can evaluate your team names against the regex using <a href="https://regex101.com/r/AlUufl/1">this regex101 link</a>. The <code>TeamNum</code> override will be set to the value of <strong>Group 1</strong> in the right-hand pane in the <strong>MATCH INFORMATION</strong> section.</p>
<h2 id="override-methods"><a class="header" href="#override-methods">Override Methods</a></h2>
<p>Overrides will be applied with both templating and replacement.</p>
<h3 id="templating"><a class="header" href="#templating">Templating</a></h3>
<p>Override templating applies overrides to attributes in the same way <a href="dynamicbeat/../checks/attributes.html">attributes are applied to check definitions</a>.</p>
<p>Given the following teams configuration:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      UsernamePrefix: &quot;oneIsNone&quot;
</code></pre>
<p>With these attributes defined in a check file:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;user&quot;: {
      &quot;Username&quot;: &quot;admin{{.UsernamePrefix}}&quot;
    }
  }
}
</code></pre>
<p>The <code>Username</code> attribute for <code>team01</code> would have a value of <code>adminoneIsNone</code>, because the <code>UsernamePrefix</code> override would be templated into the attribute value with the <code>{{.UsernamePrefix}}</code> reference.</p>
<h3 id="replacement"><a class="header" href="#replacement">Replacement</a></h3>
<p>Override replacement allows you to entirely replace the value of an attribute that has the same name as your override.</p>
<p>Given the following teams configuration:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      Username: &quot;oneIsNone&quot;
</code></pre>
<p>With these attributes defined in a check file:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;user&quot;: {
      &quot;Username&quot;: &quot;root&quot;
    }
  }
}
</code></pre>
<p>The <code>Username</code> attribute for <code>team01</code> would have a value of <code>oneIsNone</code>, because the <code>Username</code> override replaces the value of the <code>Username</code> attribute.</p>
<blockquote>
<p>If you don't define a replacement attribute for one of your teams, the attribute <strong>will not be replaced</strong> for that team.</p>
</blockquote>
<h3 id="both"><a class="header" href="#both">Both</a></h3>
<p>Overrides will perform both templating and replacement over a check's attributes if possible.</p>
<p>Given the following teams configuration:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      Domain: &quot;example.com&quot;
      Username: &quot;oneIsNone&quot;
</code></pre>
<p>With these attributes defined in a check file:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;admin&quot;: {
      &quot;Host&quot;: &quot;www.{{.Domain}}&quot;
    },
    &quot;user&quot;: {
      &quot;Username&quot;: &quot;root&quot;
    }
  }
}
</code></pre>
<p><code>team01</code>'s <code>Host</code> attribute would have a value of <code>www.example.com</code> and their <code>Username</code> attribute would have a value of <code>oneIsNone</code>.</p>
<h2 id="example-uses"><a class="header" href="#example-uses">Example Uses</a></h2>
<h3 id="custom-subnets"><a class="header" href="#custom-subnets">Custom Subnets</a></h3>
<p>If your subnetting configuration won't work with <code>TeamNum</code>, you can use overrides to keep your check files generic.</p>
<p>For example, let's say you need to run a check against three teams, but their hosts are on wildly different subnets:</p>
<table><thead><tr><th>Team</th><th>Service IP</th></tr></thead><tbody>
<tr><td>team01</td><td>10.0.0.50</td></tr>
<tr><td>team02</td><td>172.16.3.50</td></tr>
<tr><td>team03</td><td>192.168.22.50</td></tr>
</tbody></table>
<p>You can write a single check file for this service using overrides.</p>
<p>With these attributes defined in the check file:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;admin&quot;: {
      &quot;Host&quot;: &quot;{{.SubnetPrefix}}.50&quot;
    }
  }
}
</code></pre>
<p>With this teams configuration:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      SubnetPrefix: &quot;10.0.0&quot;
  - name: team02
    overrides:
      SubnetPrefix: &quot;172.16.3&quot;
  - name: team03
    overrides:
      SubnetPrefix: &quot;192.168.22.50&quot;
</code></pre>
<h3 id="unique-passwords"><a class="header" href="#unique-passwords">Unique Passwords</a></h3>
<p>In competitions where teams can attack each other (&quot;purple team&quot; or &quot;attack/defend&quot; competitions), it might be a good idea to give each team a different set of default credentials. This can help prevent the fastest (and meanest) teams from destroying the systems of other teams with default credentials early on.</p>
<p>For example, let's say you have three teams, each with the following default passwords:</p>
<table><thead><tr><th>Team</th><th>Default Password</th></tr></thead><tbody>
<tr><td>team01</td><td><code>Changeme123</code></td></tr>
<tr><td>team02</td><td><code>PasswordPassword</code></td></tr>
<tr><td>team03</td><td><code>GoScorestack!</code></td></tr>
</tbody></table>
<p>You can configure this using overrides.</p>
<p>With these attributes defined in the check file:</p>
<pre><code class="language-json">{
  &quot;attributes&quot;: {
    &quot;user&quot;: {
      &quot;Password&quot;: &quot;supersecure&quot;
    }
  }
}
</code></pre>
<p>With this teams configuration:</p>
<pre><code class="language-yaml">teams:
  - name: team01
    overrides:
      Password: &quot;Changeme123&quot;
  - name: team02
    overrides:
      Password: &quot;PasswordPassword&quot;
  - name: team03
    overrides:
      Password: &quot;GoScorestack!&quot;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-1"><a class="header" href="#dynamicbeat-1">dynamicbeat</a></h2>
<p>A service health check utility.</p>
<h3 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h3>
<p>A service health check utility.</p>
<p>Dynamicbeat interacts with network services like file shares and webservers to
determine if they are up and running properly. Dynamicbeat is a component of
the Scorestack project.</p>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -h, --help                   help for dynamicbeat
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also"><a class="header" href="#see-also">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_config.html">dynamicbeat config</a>	 - View or save your current configuration.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_run.html">dynamicbeat run</a>	 - Interact with an instance of Scorestack to run checks and store results.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_setup.html">dynamicbeat setup</a>	 - Add dashboards, users, roles, and indices to a Scorestack instance.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-config"><a class="header" href="#dynamicbeat-config">dynamicbeat config</a></h2>
<p>View or save your current configuration.</p>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<pre><code>  -h, --help   help for config
</code></pre>
<h3 id="options-inherited-from-parent-commands"><a class="header" href="#options-inherited-from-parent-commands">Options inherited from parent commands</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-1"><a class="header" href="#see-also-1">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat.html">dynamicbeat</a>	 - A service health check utility.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_config_save.html">dynamicbeat config save</a>	 - Write the current configuration to a file.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_config_view.html">dynamicbeat config view</a>	 - View your current configuration.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-config-save"><a class="header" href="#dynamicbeat-config-save">dynamicbeat config save</a></h2>
<p>Write the current configuration to a file.</p>
<h3 id="synopsis-1"><a class="header" href="#synopsis-1">Synopsis</a></h3>
<p>Write the current configuration to a file.</p>
<p>The configuration format will be automatically determined by the extension of
the destination file specified. If the file already exists, it will be
overwritten.</p>
<pre><code>dynamicbeat config save [output file] [flags]
</code></pre>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<pre><code>  -h, --help   help for save
</code></pre>
<h3 id="options-inherited-from-parent-commands-1"><a class="header" href="#options-inherited-from-parent-commands-1">Options inherited from parent commands</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-2"><a class="header" href="#see-also-2">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_config.html">dynamicbeat config</a>	 - View or save your current configuration.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-config-view"><a class="header" href="#dynamicbeat-config-view">dynamicbeat config view</a></h2>
<p>View your current configuration.</p>
<pre><code>dynamicbeat config view [flags]
</code></pre>
<h3 id="options-3"><a class="header" href="#options-3">Options</a></h3>
<pre><code>  -h, --help   help for view
</code></pre>
<h3 id="options-inherited-from-parent-commands-2"><a class="header" href="#options-inherited-from-parent-commands-2">Options inherited from parent commands</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-3"><a class="header" href="#see-also-3">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_config.html">dynamicbeat config</a>	 - View or save your current configuration.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-run"><a class="header" href="#dynamicbeat-run">dynamicbeat run</a></h2>
<p>Interact with an instance of Scorestack to run checks and store results.</p>
<h3 id="synopsis-2"><a class="header" href="#synopsis-2">Synopsis</a></h3>
<p>Interact with an instance of Scorestack to run checks and store results.</p>
<p>Dynamicbeat will pull check configurations from the configured Scorestack
instance, execute the checks at regular intervals, and store the results in
Scorestack. This process will be repeated until Dynamicbeat is terminated.</p>
<pre><code>dynamicbeat run [flags]
</code></pre>
<h3 id="options-4"><a class="header" href="#options-4">Options</a></h3>
<pre><code>  -h, --help   help for run
</code></pre>
<h3 id="options-inherited-from-parent-commands-3"><a class="header" href="#options-inherited-from-parent-commands-3">Options inherited from parent commands</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-4"><a class="header" href="#see-also-4">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat.html">dynamicbeat</a>	 - A service health check utility.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-setup"><a class="header" href="#dynamicbeat-setup">dynamicbeat setup</a></h2>
<p>Add dashboards, users, roles, and indices to a Scorestack instance.</p>
<h3 id="synopsis-3"><a class="header" href="#synopsis-3">Synopsis</a></h3>
<p>Add dashboards, users, roles, and indices to a Scorestack instance.</p>
<p>Adds the Scoreboard dashboard, users and roles, and indexes to Scorestack, as
well as configuring some Kibana settings. Additionally, the Team Overview
dashboard, team user, and team results index will be added for each configured
team.</p>
<pre><code>dynamicbeat setup [flags]
</code></pre>
<h3 id="options-5"><a class="header" href="#options-5">Options</a></h3>
<pre><code>  -h, --help                    help for setup
  -k, --kibana string           address of Kibana host to set up (default &quot;https://localhost:5601&quot;)
  -P, --setup-password string   password of Elasticsearch superuser to use for setup (default &quot;changeme&quot;)
  -U, --setup-username string   username of Elasticsearch superuser to use for setup (default &quot;elastic&quot;)
</code></pre>
<h3 id="options-inherited-from-parent-commands-4"><a class="header" href="#options-inherited-from-parent-commands-4">Options inherited from parent commands</a></h3>
<pre><code>      --config string          path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string   address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -l, --log.level int8         minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color           removes colorization from logs
  -V, --log.verbose            adds a timestamp and code location to each log line
  -p, --password string        password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string      time to wait between rounds of checks (default &quot;30s&quot;)
  -u, --username string        username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs           whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-5"><a class="header" href="#see-also-5">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat.html">dynamicbeat</a>	 - A service health check utility.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_setup_checks.html">dynamicbeat setup checks</a>	 - Add or update checks.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_setup_elasticsearch.html">dynamicbeat setup elasticsearch</a>	 - Add users and indices to Elasticsearch.</li>
<li><a href="dynamicbeat/reference/dynamicbeat_setup_kibana.html">dynamicbeat setup kibana</a>	 - Add dashboards to Kibana and configure Elastic Stack roles.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-setup-checks"><a class="header" href="#dynamicbeat-setup-checks">dynamicbeat setup checks</a></h2>
<p>Add or update checks.</p>
<pre><code>dynamicbeat setup checks [path to checks] [flags]
</code></pre>
<h3 id="options-6"><a class="header" href="#options-6">Options</a></h3>
<pre><code>  -h, --help          help for checks
  -t, --team string   add checks for only the specified team
</code></pre>
<h3 id="options-inherited-from-parent-commands-5"><a class="header" href="#options-inherited-from-parent-commands-5">Options inherited from parent commands</a></h3>
<pre><code>      --config string           path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string    address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -k, --kibana string           address of Kibana host to set up (default &quot;https://localhost:5601&quot;)
  -l, --log.level int8          minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color            removes colorization from logs
  -V, --log.verbose             adds a timestamp and code location to each log line
  -p, --password string         password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string       time to wait between rounds of checks (default &quot;30s&quot;)
  -P, --setup-password string   password of Elasticsearch superuser to use for setup (default &quot;changeme&quot;)
  -U, --setup-username string   username of Elasticsearch superuser to use for setup (default &quot;elastic&quot;)
  -u, --username string         username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs            whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-6"><a class="header" href="#see-also-6">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_setup.html">dynamicbeat setup</a>	 - Add dashboards, users, roles, and indices to a Scorestack instance.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-setup-elasticsearch"><a class="header" href="#dynamicbeat-setup-elasticsearch">dynamicbeat setup elasticsearch</a></h2>
<p>Add users and indices to Elasticsearch.</p>
<pre><code>dynamicbeat setup elasticsearch [flags]
</code></pre>
<h3 id="options-7"><a class="header" href="#options-7">Options</a></h3>
<pre><code>  -h, --help   help for elasticsearch
</code></pre>
<h3 id="options-inherited-from-parent-commands-6"><a class="header" href="#options-inherited-from-parent-commands-6">Options inherited from parent commands</a></h3>
<pre><code>      --config string           path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string    address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -k, --kibana string           address of Kibana host to set up (default &quot;https://localhost:5601&quot;)
  -l, --log.level int8          minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color            removes colorization from logs
  -V, --log.verbose             adds a timestamp and code location to each log line
  -p, --password string         password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string       time to wait between rounds of checks (default &quot;30s&quot;)
  -P, --setup-password string   password of Elasticsearch superuser to use for setup (default &quot;changeme&quot;)
  -U, --setup-username string   username of Elasticsearch superuser to use for setup (default &quot;elastic&quot;)
  -u, --username string         username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs            whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-7"><a class="header" href="#see-also-7">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_setup.html">dynamicbeat setup</a>	 - Add dashboards, users, roles, and indices to a Scorestack instance.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="dynamicbeat-setup-kibana"><a class="header" href="#dynamicbeat-setup-kibana">dynamicbeat setup kibana</a></h2>
<p>Add dashboards to Kibana and configure Elastic Stack roles.</p>
<pre><code>dynamicbeat setup kibana [flags]
</code></pre>
<h3 id="options-8"><a class="header" href="#options-8">Options</a></h3>
<pre><code>  -h, --help   help for kibana
</code></pre>
<h3 id="options-inherited-from-parent-commands-7"><a class="header" href="#options-inherited-from-parent-commands-7">Options inherited from parent commands</a></h3>
<pre><code>      --config string           path to config file (default: ${PWD}/dynamicbeat.yaml)
  -e, --elasticsearch string    address of Elasticsearch host to pull checks from and store results in (default &quot;https://localhost:9200&quot;)
  -k, --kibana string           address of Kibana host to set up (default &quot;https://localhost:5601&quot;)
  -l, --log.level int8          minimum log level to display; lower is more verbose - the lowest is -1 for DEBUG
  -c, --log.no_color            removes colorization from logs
  -V, --log.verbose             adds a timestamp and code location to each log line
  -p, --password string         password for authentication with Elasticsearch (default &quot;changeme&quot;)
  -r, --round_time string       time to wait between rounds of checks (default &quot;30s&quot;)
  -P, --setup-password string   password of Elasticsearch superuser to use for setup (default &quot;changeme&quot;)
  -U, --setup-username string   username of Elasticsearch superuser to use for setup (default &quot;elastic&quot;)
  -u, --username string         username for authentication with Elasticsearch (default &quot;dynamicbeat&quot;)
  -v, --verify_certs            whether to verify the Elasticsearch TLS certificates
</code></pre>
<h3 id="see-also-8"><a class="header" href="#see-also-8">SEE ALSO</a></h3>
<ul>
<li><a href="dynamicbeat/reference/dynamicbeat_setup.html">dynamicbeat setup</a>	 - Add dashboards, users, roles, and indices to a Scorestack instance.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployment-1"><a class="header" href="#deployment-1">Deployment</a></h1>
<p>This section explains how to deploy Scorestack using the preconfigured deployment options. It does not explain exactly how the deployment process works, however there should be plenty of information here for someone new to Scorestack to successfully deploy a new Scorestack instance and get scoring working for their competition.</p>
<p>If have any problems at all deploying Scorestack while following this documentation, please <a href="https://github.com/scorestack/scorestack/issues/new/choose">open a new issue</a> so we can help you out!</p>
<p>Deploying the Elastic Stack properly for Scorestack is a fairly involved task, so the Scorestack developers maintain automation to deploy Scorestack to a variety of platforms with multiple different possible architectures. An &quot;architecture&quot; is a description of how Scorestack is deployed, and usually just refers to the number of replicas that are deployed for different services. This section will also cover the available architectures, what they look like, and what methods are available for deploying those architectures.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="obtaining-binaries"><a class="header" href="#obtaining-binaries">Obtaining Binaries</a></h1>
<p>In order to run Dynamicbeat and Scorestack's Kibana plugin, the binaries for these components must be obtained. The Dynamicbeat binary is a compiled Golang executable that runs Dynamicbeat. The Kibana plugin binary is a zipfile containing the compiled assets that are installed into the Kibana server and loaded at runtime.</p>
<h2 id="prebuilt-binaries"><a class="header" href="#prebuilt-binaries">Prebuilt Binaries</a></h2>
<p>Most users will want to use the prebuilt binaries that are available on the <a href="https://github.com/scorestack/scorestack/releases">Scorestack Releases page</a>. The Kibana plugin zipfile and a zipped Dynamicbeat executable are attached to each release. This is the recommended way of obtaining the binaries.</p>
<h2 id="building-your-own-binaries"><a class="header" href="#building-your-own-binaries">Building Your Own Binaries</a></h2>
<p>If you really want to, you can build these binaries yourself. Please see the <a href="deployment/../building.html">documentation on building</a> for more information on how to do this.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cloning-the-repository"><a class="header" href="#cloning-the-repository">Cloning the Repository</a></h1>
<p>Whenever you need to deploy Scorestack, you need to make sure you're cloning the right branch. In most cases, cloning directly from the <code>stable</code> branch (which is the default) is fine.</p>
<pre><code class="language-shell">git clone --branch stable https://github.com/scorestack/scorestack.git
</code></pre>
<p>However, if you would like to deploy a specific version of Scorestack, just pass the tag of the version you want to deploy to the <code>--branch</code> argument of <code>git clone</code>. For example, to deploy Scorestack version 0.5.0, you would run <code>git clone --branch v0.5.0 https://github.com/scorestack/scorestack.git</code>.</p>
<p>If you just want to use the latest release, the <code>stable</code> branch is fine - it always points at the latest stable release.</p>
<p>If you want to live life on the edge and try out an unstable release or unreleased changes, try cloning the <code>dev</code> branch instead! Just note that it <code>dev</code> is the unstable development branch, so there's no guarantees that things will work for you.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="small-architecture"><a class="header" href="#small-architecture">Small Architecture</a></h1>
<p>This architecture deploys three hosts:</p>
<ul>
<li><code>elasticsearch</code>: A single-node Elasticsearch cluster</li>
<li><code>kibana</code>: The Kibana server</li>
</ul>
<h2 id="docker-deployment"><a class="header" href="#docker-deployment">Docker Deployment</a></h2>
<p>The Small architecture can deployed on a single system using Docker. Before deploying with Docker, you must make sure that <code>docker</code>, <code>docker-compose</code>, and <code>git</code> are installed on your system. Then, <a href="deployment/cloning.html">clone the Scorestack repository</a> to the host you plan to use for running Scorestack.</p>
<h3 id="deploying"><a class="header" href="#deploying">Deploying</a></h3>
<p>First, change into the Scorestack repository directory.</p>
<pre><code class="language-shell">cd scorestack
</code></pre>
<p>Next, you need to increase the maximum number of memory map areas that a single process can use. This is required for Elasticsearch to function properly. If you forget to configure this setting, Elasticsearch will appear to start properly, but crash and exit before the APIs are available. This setting is configured via <code>sysctl</code> on Linux hosts.</p>
<p>You can change this setting immediately with a <code>sysctl</code> command.</p>
<pre><code class="language-shell">sudo sysctl -w vm.max_map_count=262144
</code></pre>
<p>Please note the changes made by the above command will not persist on reboot. In order to persistently make these changes, add the <code>vm.max_map_count</code> setting to your <code>/etc/sysctl.conf</code> file, or to a file under the <code>/etc/sysctl.d</code> directory. The proper location for these changes depends on your distribution.</p>
<p>Now run <code>docker-compose</code> to deploy Scorestack. Make sure to include the <code>-d</code> parameter!</p>
<pre><code class="language-shell">sudo docker-compose -f deployment/small/docker/docker-compose.yml up -d
</code></pre>
<p>Then, configure Scorestack settings in the Elastic Stack using <a href="deployment/./setup.html">Dynamicbeat's <code>setup</code> command</a>.</p>
<h3 id="cleanupteardown"><a class="header" href="#cleanupteardown">Cleanup/Teardown</a></h3>
<p>If you just want to stop Scorestack and restart it later, you can do so with normal <code>docker-compose</code> commands.</p>
<pre><code class="language-shell">sudo docker-compose -f deployment/small/docker/docker-compose.yml down
sudo docker-compose -f deployment/small/docker/docker-compose.yml up -d
</code></pre>
<blockquote>
<p>If you restart Scorestack, the <code>setup</code> container will also be restarted, and that's okay. It shouldn't make any changes to your cluster.</p>
</blockquote>
<p>To destroy the Scorestack cluster completely and remove all artifacts, you must stop and remove the containers, remove the volumes, and delete the certificates from disk.</p>
<pre><code class="language-shell">sudo docker-compose -f deployment/small/docker/docker-compose.yml down -v
rm -rf deployment/small/docker/certificates
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="medium-architecture"><a class="header" href="#medium-architecture">Medium Architecture</a></h1>
<p>This architecture deploys seven hosts:</p>
<ul>
<li><code>elasticsearch1</code>, <code>elasticsearch2</code>, <code>elasticsearch3</code>: Elasticsearch master-eligible data nodes</li>
<li><code>elasticsearch4</code>: An Elasticsearch coordinating-only node</li>
<li><code>kibana</code>: The Kibana server</li>
<li><code>nginx</code>: An nginx server that proxies public requests to Kibana and the Elasticsearch cluster. Also used as an SSH jump box.</li>
</ul>
<h2 id="gcp-deployment"><a class="header" href="#gcp-deployment">GCP Deployment</a></h2>
<p>The Medium architecture can be deployed to GCP using multiple VMs using Terraform and Ansible. Before running the Terraform for the GCP deployment, make sure to <a href="https://www.terraform.io/docs/providers/google/guides/getting_started.html">set up Terraform with the Google Provider</a> and make sure <code>git</code> is installed on your system. Then, <a href="deployment/cloning.html">clone the Scorestack repository</a> to the host you plan to use for deploying Scorestack. This can be your laptop or wherever you're most comfortable - Scorestack itself will not be running in this host!</p>
<blockquote>
<p>Please note that new GCP accounts and projects have a per-region quota on CPU usage. This deployment will consume the entire quota.</p>
</blockquote>
<h3 id="deploying-1"><a class="header" href="#deploying-1">Deploying</a></h3>
<p>First, change into the GCP terraform directory.</p>
<pre><code class="language-shell">cd scorestack/deployment/medium/gcp
</code></pre>
<p>Next, in a new file named <code>terraform.tfvars</code>, provide values for the four unset variables defined in <code>variables.tf</code>. Here is a brief description of the required variables:</p>
<ul>
<li><code>project</code>: The GCP project ID to which Scorestack will be deployed</li>
<li><code>credentials_file</code>: The path to the GCP credentials file - see the <a href="https://www.terraform.io/docs/providers/google/guides/provider_reference.html#credentials">GCP provider reference</a> for more information</li>
<li><code>ssh_pub_key_file</code>, <code>ssh_priv_key_file</code>: The paths to the SSH keypair that will be added to the created instances - these must already be created</li>
</ul>
<p>Here's an example of what your <code>terraform.tfvars</code> file might look like:</p>
<pre><code class="language-ini">project = &quot;scorestack-300023&quot;
credentials_file = &quot;~/.config/gcloud/application_default_credentials.json&quot;
ssh_pub_key_file = &quot;~/.ssh/scorestack.pub&quot;
ssh_priv_key_file = &quot;~/.ssh/scorestack&quot;
</code></pre>
<blockquote>
<p>If you have a domain that you'd like to point at Scorestack, make sure to set the <code>fqdn</code> variable to that domain. For example, if you were to run a Scorestack instance at <code>demo.scorestack.io</code>, you would add the following line to your <code>terraform.tfvars</code> file:</p>
<pre><code class="language-ini">fqdn = &quot;demo.scorestack.io&quot;
</code></pre>
</blockquote>
<p>Next, install the necessary Terraform components to work with the GCP APIs.</p>
<pre><code class="language-shell">terraform init
</code></pre>
<p>If you are using a brand-new GCP project, you will first have to <a href="https://cloud.google.com/billing/docs/how-to/modify-project">enable billing</a> for the project. Once billing is enabled, you can enable the Compute Engine API, which is required for the Terraform to work properly.</p>
<pre><code class="language-shell">gcloud services enable compute.googleapis.com
</code></pre>
<p>Finally, run Terraform to deploy Scorestack.</p>
<pre><code class="language-shell">terraform apply
</code></pre>
<p>Once deployment is finished, configure the DNS record for your FQDN to point at the public IP of the <code>nginx</code> instance. Then, run the <a href="deployment/medium.html#ansible-deployment">ansible deployment</a> for the medium architecture.</p>
<h3 id="cleanupteardown-1"><a class="header" href="#cleanupteardown-1">Cleanup/Teardown</a></h3>
<p>To destroy the Scorestack cluster completely and remove all artifacts, you must destroy the Terraform resources, the generated certificates, and the Ansible inventory file.</p>
<pre><code class="language-shell">terraform destroy
rm -rf ../ansible/certificates
rm ../ansible/inventory.ini
</code></pre>
<h2 id="ansible-deployment"><a class="header" href="#ansible-deployment">Ansible Deployment</a></h2>
<p>Once the infrastructure for the medium architecture has been deployed by one of the available Terraform options, Ansible is used to deploy and configure Scorestack. You will need to install Ansible on your system for this deployment.</p>
<h3 id="deploying-2"><a class="header" href="#deploying-2">Deploying</a></h3>
<p>Once your Terraform deployment is complete, change from your Terraform directory to the Ansible directory in the repository.</p>
<pre><code class="language-shell">cd ../ansible
</code></pre>
<p>Then, run the Ansible playbook to deploy Scorestack. The inventory file was generated for you by Terraform to properly configure SSH access for Ansible to all of the instances.</p>
<pre><code class="language-shell">ansible-playbook playbook.yml -i inventory.ini
</code></pre>
<p>Finally, configure Scorestack settings in the Elastic Stack using <a href="deployment/./setup.html">Dynamicbeat's <code>setup</code> command</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup"><a class="header" href="#setup">Setup</a></h1>
<p>Once your deployment has finished, you will have an almost-stock configuration of Elastic Stack ready to go. In order to configure the users, dashboards, indices, and other settings for Scorestack, you can use Dynamicbeat.</p>
<p>You can download a precompiled version of Dynamicbeat for your operating system from the <a href="https://github.com/scorestack/scorestack/releases/latest">latest release on GitHub</a>.</p>
<p>Save the zipfile and extract Dynamicbeat to the system that you'll be writing check configurations on. Next, you'll need to <a href="deployment/../dynamicbeat/configuration.html">configure Dynamicbeat</a> so it knows how to configure your Scorestack instance.</p>
<h2 id="running-setup"><a class="header" href="#running-setup">Running Setup</a></h2>
<p>To set up everything on both Kibana and Elasticsearch, run Dynamicbeat's <code>setup</code> command:</p>
<pre><code class="language-shell">dynamicbeat setup
</code></pre>
<p>Kibana will be configured first, followed by Elasticsearch. If Kibana or Elasticsearch aren't ready yet, Dynamicbeat will wait until they're up and running and Dynamicbeat can authenticate to them. If you just ran your Scorestack deployment, this might take a little while.</p>
<blockquote>
<p>If Dynamicbeat has been waiting for Kibana or Elasticsearch for three minutes or longer, check the Kibana and/or Elasticsearch logs for errors. Also, double-check the Elasticsearch URL, Kibana URL, and setup credentials in your <a href="deployment/../dynamicbeat/configuration.html#configuration-reference">Dynamicbeat configuration file</a>.</p>
</blockquote>
<p>Alternatively, you can configure Kibana and Elasticsearch one-by-one:</p>
<pre><code class="language-shell">dynamicbeat setup kibana
dynamicbeat setup elasticsearch
</code></pre>
<p>Make sure to run the Kibana setup first - the Elasticsearch setup will fail if Kibana has not already been configured.</p>
<h2 id="re-running-setup"><a class="header" href="#re-running-setup">Re-Running Setup</a></h2>
<p>The setup command is safe to be rerun at any time, as many times as desired. All dashboards and roles will be re-created. If any spaces, indices, or users that were configured still exist, they will be left untouched.</p>
<blockquote>
<p>If a user's password has been changed, their password will not be reset when you re-run the setup command.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scorestack-design"><a class="header" href="#scorestack-design">Scorestack Design</a></h1>
<p>This section of the documentation explains the current design of the Scorestack implementation. This section intends to be <em>descriptive</em>, not <em>prescriptive</em>. That is to say, if something in this section is incorrect, the documentation should be updated to reflect the actual state of Scorestack, instead of updating Scorestack to match what the documentation says.</p>
<p>If you just want to get Scorestack up and running for a competition, you can probably skip this section. The intended audience is current or future Scorestack developers. However, if you find that Scorestack doesn't <em>quite</em> cover your use case, then you might find something in this section that could assist you.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="elastic-stack-architectural-overview"><a class="header" href="#elastic-stack-architectural-overview">Elastic Stack Architectural Overview</a></h1>
<p>Scorestack is based around a customized deployment of the Elastic Stack that includes Elasticsearch, Kibana, a Kibana plugin, and a service-checking program named Dynamicbeat. All of these components are configured with X-Pack security enabled, and TLS mutual authentication is used for all inter-cluster communications.</p>
<p>This document provides an overview of each of the Elastic Stack components used in Scorestack, what they are used for, and what they do. It has mostly the same information as the <a href="design/check.html">Life of a Check</a> document, but presented as an explanation of components rather than a timeline.</p>
<h2 id="elasticsearch"><a class="header" href="#elasticsearch">Elasticsearch</a></h2>
<p>The Elasticsearch instance (or cluster, depending on the deployment configuration) is used as a database to contain all check definitions, attributes, and check results. Several indices are created in Elasticsearch to store this information.</p>
<p>In the <code>checkdef</code> and <code>check</code> indices and the <code>attrib_admin_*</code> and <code>attrib_user_*</code> index patterns, each document represents a single check, and will have a document ID equal to the <code>id</code> field in the check's definition.</p>
<p>For example, if a check has an <code>id</code> of <code>dns-active-directory-team01</code>, then the documents related to that check in the above indices and index patterns will all have document IDs of <code>dns-active-directory-team01</code>.</p>
<h3 id="checkdef"><a class="header" href="#checkdef"><code>checkdef</code></a></h3>
<p>This index is the source of check definitions for Dynamicbeat.</p>
<h3 id="checks-1"><a class="header" href="#checks-1"><code>checks</code></a></h3>
<p>This index is a source of generic check information that contains only the <code>id</code>, <code>name</code>, <code>type</code>, and <code>group</code> fields of each check definition. This is used for some visualizations that require teams to be able to see what checks are running. This index is useful in addition to the <code>checkdef</code> index, because it does not give teams any information about how the checks are configured.</p>
<h3 id="attrib_admin_"><a class="header" href="#attrib_admin_"><code>attrib_admin_*</code></a></h3>
<p>This index pattern contains attributes that can only be read and modified by attribute administrators. Each team has their own admin attribute index. The group name is appended to the index name. For example, a group named <code>team01</code> would have an admin attribute index of <code>attrib_admin_team01</code>.</p>
<h3 id="attrib_user_"><a class="header" href="#attrib_user_"><code>attrib_user_*</code></a></h3>
<p>This index pattern is the same as <code>attrib_admin_*</code>, except these attributes can also be read and modified by the team's members. To clarify, only members of <code>team01</code> can view and modify the attributes in <code>attrib_user_team01</code>.</p>
<h3 id="results-admin"><a class="header" href="#results-admin"><code>results-admin</code></a></h3>
<p>This index contains detailed check results for all checks that are running. It makes it easier for competition organizers to search for any check from any team within the Discover app in Kibana and see why a check may have failed.</p>
<h3 id="results-all"><a class="header" href="#results-all"><code>results-all</code></a></h3>
<p>This index also contains the check results for all checks, but the <code>message</code> and <code>details</code> fields are removed. This lets anybody see what checks are passing for each team (which is required for some dashboards). However, nobody consulting this index would be able to see the details explaining why a check failed.</p>
<h3 id="results-team"><a class="header" href="#results-team"><code>results-TEAM</code></a></h3>
<p>These indices contain detailed check results for a single team's checks, and gives teams a starting point for troubleshooting their failing checks. <code>TEAM</code> is just a placeholder for the team's name. For example, <code>team01</code>'s results index would be <code>results-team01</code>.</p>
<h2 id="kibana"><a class="header" href="#kibana">Kibana</a></h2>
<p>The stock Kibana application is what teams use to view the current and past status of their checks, get information about why their checks are failing, and compare themselves to the other teams.</p>
<p>The Kibana instance is configured with two Spaces: Default and Scorestack. The Default space is the normal Kibana default space, and all Kibana applications are enabled in it. The Default space should only be accessible by Scorestack administrators. The Scorestack space only enables the Kibana features that are needed for Scorestack. This is to reduce clutter in the sidebar and prevent confusion for new Scorestack users.</p>
<p>Since dashboards, visualizations, index patterns, and other Kibana saved objects aren't shared across spaces, these saved objects are duplicated across the two spaces. The practical effect of this is that any changes made to an object (like a dashboard) in one space must also be made to the same object in the other space.</p>
<h2 id="kibana-plugin"><a class="header" href="#kibana-plugin">Kibana Plugin</a></h2>
<p>The Kibana plugin adds a new application to Kibana that allows admins and users to view and modify check attributes. The application allows you to view the attributes for your checks, see their current values, and change their values at any time. Once an attribute value has been updated through the plugin application it will immediately update the value in Elasticsearch, but it may take a few rounds of checks for Dynamicbeat to re-read the check definitions and the change to take effect.</p>
<h2 id="dynamicbeat-2"><a class="header" href="#dynamicbeat-2">Dynamicbeat</a></h2>
<p>Dynamicbeat is the program that runs check definitions. It built using the libbeat library from Elastic, which is the same library used for other beats like Filebeat, Winlogbeat, and Journalbeat.</p>
<p>Dynamicbeat uses periods to separate &quot;rounds&quot; of checks. A period is a certain amount of time to wait before starting the next round. By default, Dynamicbeat's period is 30 seconds, so every 30 seconds another &quot;round&quot; of checks will be started.</p>
<p>At startup, Dynamicbeat will first query Elasticsearch for all check definitions and check attributes, and then save the results.</p>
<p>Every period, Dynamicbeat will start all checks that it knows about at the same time and run them asynchronously. Once all checks have been completed or a timeout has been hit, whichever happens first, the check results will be created and indexed into Elasticsearch. By default, the global timeout for all checks is 30 seconds. If a check does not finish within those 30 seconds, the check will be automatically marked as failing.</p>
<p>Dynamicbeat performs the following steps to index a check result in Elasticsearch:</p>
<ol>
<li>Convert the boolean <code>passed</code> field to an integer in the new <code>passed_int</code> field. If a check has passed, <code>passed_int</code> will be 1, otherwise it will be 0.</li>
<li>Create an <code>epoch</code> field that contains the integer value of the check result's <code>@timestamp</code> converted to <a href="https://en.wikipedia.org/wiki/Unix_time">Epoch time</a>.</li>
<li>Index a copy of the check result in both the <code>results-admin-*</code> and <code>results-GROUP-*</code> indicies, where <code>GROUP</code> is the value of the <code>group</code> field in the check definition.</li>
<li>Index a copy of the check result with the <code>message</code> and <code>details</code> fields removed in the <code>results-all-*</code> index.</li>
</ol>
<p>Once Dynamicbeat has started a round, it will re-query Elasticsearch for the latest check definitions and check attributes, and save the results for the next round of checks. If Dynamicbeat has any issues loading the latest check definitions (for example, if Elasticsearch is unreachable), then it will reuse the check information from the previous round.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-roles"><a class="header" href="#user-roles">User Roles</a></h1>
<p>Several roles are added to Scorestack during creation. These roles can be assigned to users to give them access to specific parts of the Scorestack components. This document describes the access given to each role, and explains their intended uses.</p>
<h2 id="dynamicbeat_reader"><a class="header" href="#dynamicbeat_reader"><code>dynamicbeat_reader</code></a></h2>
<p>This role provides read-only access to the <code>checkdef*</code> and <code>attrib_*</code> indices. This role is intended to be used by the Dynamicbeat user, and provides Dynamicbeat with the least privilege required for proper operation.</p>
<h2 id="common"><a class="header" href="#common"><code>common</code></a></h2>
<p>This role provides read-only access to the <code>results-all*</code> and <code>checks</code> indices, and provides read access to the <code>scorestack</code> space. This allows users to view the generic results and some generic checks, which is required for the overall dashboards to work properly. The <code>scorestack</code> space is a customized Kibana space that only includes Scorestack-specific components, reducing the clutter in the Kibana UI. Read-only access is provided to only that space so that users don't have to pick between it and the default space, which has several components included that are not needed for Scorestack.</p>
<p>This role should be used for all Scorestack end-users that interact with Kibana.</p>
<h2 id="spectator"><a class="header" href="#spectator"><code>spectator</code></a></h2>
<p>This role provides read-only access to the <code>results*</code> indices. This allows users to view team-specific dashboards and admin/group check results. This role should generally only be given to Scorestack administrators or &quot;spectator&quot; users like redteam and whiteteam.</p>
<h2 id="attribute-admin"><a class="header" href="#attribute-admin"><code>attribute-admin</code></a></h2>
<p>This role provides full access to the <code>attrib_*</code> indices. This allows users to modify all attributes of all teams. This role should only be given to Scorestack administrators that need to modify administrator attributes, or assist teams with modifying their own attributes.</p>
<h2 id="check-admin"><a class="header" href="#check-admin"><code>check-admin</code></a></h2>
<p>This role provides full access to the <code>check*</code> indices. This allows users to create, modify, and delete all check definitions. This role should only be given to Scorestack administrators that are managing checks.</p>
<h2 id="team-roles"><a class="header" href="#team-roles">Team Roles</a></h2>
<p>A role is created for each team that gets added, which provides read access to the team results index for the team and read/write access to the team's user attributes index. This allows team users to see detailed check results for their team, view team-specific dashboards for their team, and modify user attributes for their team. This role should only be given to the user associated with a team.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="life-of-a-check"><a class="header" href="#life-of-a-check">Life of a Check</a></h1>
<p>This document walks through the life of a check, starting at loading definitions from Elasticsearch and ending at indexing check results back into Elasticsearch. This has mostly the same information as the <a href="design/architecture.html">Elastic Stack Architecture</a> document, but presented as a timeline rather than an explanation of components.</p>
<h2 id="running-checks"><a class="header" href="#running-checks">Running Checks</a></h2>
<p>A <strong>check</strong> is a single attempt to verify the functionality of a specific network service. Here are a few examples of basic checks that could be run:</p>
<ul>
<li>Send a series of ICMP Echo Requests to an IP address and expect a certain number or percentage of ICMP Echo Replies from that address.</li>
<li>Send an HTTP GET request for a specific webpage to a webserver and check that the returned content matches the expected content.</li>
<li>Log in to a system via SSH with a given set of credentials, run a specific command, and ensure the command printed the expected content.</li>
</ul>
<p>Each check is defined by a <strong>check definition</strong>, which is a JSON document stored in Elasticsearch that provides the necessary information for Dynamicbeat to run the check. Additionally, a check may have <strong>check attributes</strong>, which allow for on-the-fly modification of variables that are templated into the check definition. For more information on defining checks, see <a href="design/./checks.html">the check definition documentation</a>.</p>
<p>When Dynamicbeat first starts, it pulls the check definitions stored in Elasticsearch and stores them in memory. Then every 30 seconds, Dynamicbeat will start a single check for each one of the check definitions that it currently has stored in memory. Additionally, every minute Dynamicbeat will refresh the check definition information that it has stored in memory by querying Elasticsearch for updates.</p>
<h2 id="reporting-check-results"><a class="header" href="#reporting-check-results">Reporting Check Results</a></h2>
<p>As checks finish executing, their results (pass, fail, or timeout, with some additional information) are buffered to be sent to Elasticserach later on. Typically, Dynamicbeat will immediately send check results to Elasticsearch. However, if there issues establishing a stable connection to Elasticsearch, the results will stay in Dynamicbeat's buffer until it can reestablish the connection.</p>
<p>Before Dynamicbeat indexes a check result in Elasticsearch, it will perform some basic processing.</p>
<p>First, the <code>passed</code> boolean field is converted to an integer in the <code>passed_int</code> field. If the check passed, <code>passed_int</code> will be set to <code>1</code>. Otherwise, <code>passed_int</code> will be <code>0</code>. This conversion allows for easy score calculation within Kibana dashboards.</p>
<p>Next, the <code>@timestamp</code> field is converted to an integer representing the Unix epoch representation of the timestamp, which is stored in the <code>epoch</code> field. This conversion makes it simple to display only the latest check results within Kibana dashboards.</p>
<p>Finally, three versions of the result event are created: generic, admin, and group. These events are then stored in an Elasticsearch index that matches the glob <code>results-*-TIMESTAMP</code>, where <code>TIMESTAMP</code> is a timestamp representing the current date in the format <code>YYYY.MM.DD</code>.</p>
<h2 id="generic-results"><a class="header" href="#generic-results">Generic Results</a></h2>
<p>Generic results have the <code>message</code> and <code>details</code> fields removed, and are viewable by all Scorestack users. This allows teams to see how other teams are doing, but does not give them information on <em>why</em> other teams' checks may be failing. Since field-based access control is a premium feature of the Elastic Stack, this workaround is required for competition-wide dashboards to work without revealing details of check results to other teams.</p>
<p>Generic results are stored in the <code>results-all-*</code> indices.</p>
<h2 id="group-results"><a class="header" href="#group-results">Group Results</a></h2>
<p>The group results do not have the <code>message</code> and <code>details</code> fields removed, and are only viewable by members of the group the check belongs to. For example, the group results for a check in the Team 3 group can only be viewed by users who are in the Team 3 group. Group results allow users to get more detailed information about why their checks may be failing, which provides them a starting point for troubleshooting their services.</p>
<p>Group results are stored in the <code>results-GROUP-*</code> indices, where <code>GROUP</code> is the group ID.</p>
<h2 id="admin-results"><a class="header" href="#admin-results">Admin Results</a></h2>
<p>The admin results, like the group results, do not have the <code>message</code> and <code>details</code> fields removed. However, admin results are only viewable by members of the <code>spectator</code> group. Admin results are mainly useful for troubleshooting issues with service deployment prior to a competition, or for detecting issues with check definitions and/or Dynamicbeat. This is becase all the admin results are stored within a single set of indices, unlike the group events, which are stored across a variety of indices. Having all admin results in a single set of indices allows Scorestack administrators to search across all check results using a single index glob.</p>
<p>The admin results are stored in the <code>results-admin-*</code> indices.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="building-binaries"><a class="header" href="#building-binaries">Building Binaries</a></h1>
<p>Scorestack relies on two different binaries: a Golang executable for Dynamicbeat, and a zipfile for the Kibana plugin. While prebuilt versions of these binaries are attached to each release, this document provides an explanation of how to build your own binaries if you so choose.</p>
<h2 id="dynamicbeat-3"><a class="header" href="#dynamicbeat-3">Dynamicbeat</a></h2>
<p>To build and test Dynamicbeat with the provided Docker container, run the following command:</p>
<pre><code class="language-shell">docker-compose -f dockerfiles/docker-compose.yml run dynamicbeat-ci /scripts/test.sh
</code></pre>
<p>The compiled binary can be found at <code>dynamicbeat/dynamicbeat</code>.</p>
<h3 id="building-during-development"><a class="header" href="#building-during-development">Building During Development</a></h3>
<p>If you are actively developing Dynamicbeat, you may wish to build Dynamicbeat within the devcontainer to test your changes. Instead of using the above docker-compose command, you can build Dynamicbeat manually using the Makefile provided in the <code>dynamicbeat/</code> folder. Just move into the <code>dynamicbeat/</code> directory and run <code>make</code>.</p>
<p>The compiled binary will be named <code>dynamicbeat</code> within the <code>dynamicbeat/</code> folder. You can remove it by running <code>make clean</code>.</p>
<h2 id="kibana-plugin-1"><a class="header" href="#kibana-plugin-1">Kibana Plugin</a></h2>
<p>To build the Kibana plugin with the provided Docker container, run the following command:</p>
<pre><code class="language-shell">docker-compose -f dockerfiles/docker-compose.yml run kibana-plugin-ci /scripts/test.sh
</code></pre>
<p>Please note that this build process can take quite a long time (20-30 minutes).</p>
<p>The zipfile can be found at <code>kibana-plugin/build/scorestack-X.Y.Z.zip</code>, where <code>X.Y.Z</code> is the latest release version. Specifically, it is the value of the <code>--build-version</code> argument in the <code>build</code> script defined in <code>kibana-plugin/package.json</code>.</p>
<h3 id="building-during-development-1"><a class="header" href="#building-during-development-1">Building During Development</a></h3>
<p>Typically during Kibana plugin development, you will want to use the Kibana development server to test the plugin. However, sometimes it can be useful to build the zipfile during development to ensure it can properly install and run in a production version of Kibana. If working within the Kibana plugin devcontainer, you run the following commands in the <code>kibana-plugin/</code> folder.</p>
<p>First, make sure you're in the right directory:</p>
<pre><code class="language-shell">cd $HOME/kibana/plugins/scorestack
</code></pre>
<p>Next, install all the required dependencies.</p>
<pre><code class="language-shell">yarn kbn bootstrap
</code></pre>
<p>The first time you run <code>yarn kbn bootstrap</code>, it can take several (20+) minutes to install all the required dependencies. However, after the first time you run it, running the same command should be fairly quick later on.</p>
<p>Next, compile the bundles for the frontend portion of the plugin.</p>
<pre><code class="language-shell">yarn prebuild
</code></pre>
<p>Finally, build the plugin's zipfile.</p>
<pre><code class="language-shell">yarn build
</code></pre>
<p>The zipfile can be found at <code>kibana-plugin/build/kibana-plugin-0.0.0.zip</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="appendix-a---faq"><a class="header" href="#appendix-a---faq">Appendix A - FAQ</a></h1>
<h3 id="how-can-i-reset-my-scorestack-cluster-without-redeploying-it"><a class="header" href="#how-can-i-reset-my-scorestack-cluster-without-redeploying-it">How can I &quot;reset&quot; my Scorestack cluster without redeploying it?</a></h3>
<p>First, stop all running instances of Dynamicbeat. Once they have all exited, use the Discover app in Kibana to wait for all queued check results to finish indexing in Elasticsearch.</p>
<p>Once all check results have been indexed, deleted all the Scorestack indices. You can use the Dev Tools app in Kibana to simplify this process. You need execute the following <code>DELETE</code> queries:</p>
<ul>
<li><code>DELETE /check*</code></li>
<li><code>DELETE /attrib*</code></li>
<li><code>DELETE /result*</code></li>
</ul>
<p>Finally, rerun the <code>add-team.sh</code> script with all the teams you want Scorestack to have. Once the script is finished, you can restart Dynamicbeat.</p>
<h3 id="what-are-the-default-admin-credentials"><a class="header" href="#what-are-the-default-admin-credentials">What are the default admin credentials?</a></h3>
<p>The following credentials are the default <code>superuser</code> credentials for all Scorestack deployments:</p>
<pre><code>Username: root
Password: changeme
</code></pre>
<p>These credentials will give you the same access as the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/built-in-users.html"><code>elastic</code> built-in user</a>, so be careful, and make sure to change the password after your first log-in!</p>
<h3 id="what-are-the-default-dynamicbeat-credentials"><a class="header" href="#what-are-the-default-dynamicbeat-credentials">What are the default Dynamicbeat credentials?</a></h3>
<p>Dynamicbeat needs a username and password to connect to Elasticsearch and read the current check definitions and attributes. A user is created for you during all Scorestack deployments with the following default credentials:</p>
<pre><code>Username: dynamicbeat
Password: changeme
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<blockquote>
<p>If you think you should be added to this list, awesome! Submit a pull request and add your name under the developers list, along with an optional link to your GitHub profile, Twitter page, personal website, etc. The ordering is alphabetic by last name (or handle, if you choose to omit your IRL name). Thanks for helping to improve Scorestack!</p>
</blockquote>
<p>Scorestack is currently maintained by the following individuals:</p>
<ul>
<li>Simon Buchheit (<a href="https://github.com/oneNutW0nder">@oneNutW0nder</a>)</li>
<li>Sean Newman (<a href="https://github.com/s-newman/">@s-newman</a>)</li>
</ul>
<p>The following developers have also provided valuable assistance in the development of Scorestack:</p>
<ul>
<li>Kyle Carretto (<a href="https://github.com/KCarretto">@kcarretto</a>)</li>
<li>Hulto (<a href="https://github.com/hulto">@hulto</a>)</li>
</ul>
<p>Additionally, Scorestack would not be possible without the feedback from many users and testers. Thank you!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
